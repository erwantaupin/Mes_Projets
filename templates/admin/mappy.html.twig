{% extends 'base.html.twig' %}

{% block title %}dashboard
{% endblock %}

{% block body %}
	<div class="container-fluid text-white">
		<div class="box row">
			<div class="col-md-7 d-flex justify-content-between align-items-center mx-3 px-5">
				<h5 class="politesse">Bonjour Erwan</h5>
				<div class="boxtitreadmin col-3 d-flex justify-content-center align-items-center px-3">
					<h1>Administrateur</h1>
				</div>
			</div>
		</div>
		<div class="boxmenu box_menu1 row justify-content-center">

			<div class="menu col-sm-offset-2 col-sm-8 col-md-offset-4 col-md-4 d-flex justify-content-evenly align-items-center px-5">
				<a class="" href="{{path('home')}}">retour</a>
				<a class="" href="{{path('dashboard')}}">Contenu</a>
				<a class="" href="{{path('utilisateur')}}">Utilisateur</a>
				<a class="" href="{{path('archive')}}">Archive</a>
				<a class="" href="{{path('mappy')}}">Mappy</a>
			</div>
		</div>
		<div class="row">
			<div class="tableau col-12 col-md-10 mt-2">
				<div class="container">
					<div class="row">
						<div class="col-12">
							<div id="map"></div>
						</div>
						{{ form_start(mapForm) }}
						<div class="d-flex justify-content-center">
							<div class="w-50 my-5">
								{{ form_row(mapForm.nom) }}
							</div>
						</div>
						<div class="d-flex justify-content-evenly">
							{{ form_row(mapForm.lat) }}
							{{ form_row(mapForm.lon) }}
						</div>
						<div class="mx-4 my-5"></div>
						<div class="d-flex justify-content-center mt-3">
							<button type="submit" class="btnco">valider</button>
						</div>
						{{ form_end(mapForm) }}
					</div>
				</div>
			</div>
			<div class="box_menu2 col-2 px-0">
				<div class="wrapper menulat d-flex justify-content-center text-center no-gutters">
					<nav id="sidebar">
						<div class="sidebar-header my-4">
							<h3>Menu</h3>
						</div>
						<ul class="list-unstyled components">
							<li class="my-5 retour">
								<a href="{{path('home')}}">
									<h4>Retour</h4>
								</a>
							</li>
							<li class="my-4">
								<a href="{{path('dashboard')}}">
									<h4>Contenu</h4>
								</a>
							</li>
							<li class="my-4">
								<a href="{{path('utilisateur')}}">
									<h4>Utilisateur</h4>
								</a>
							</li>
							<li class="my-4">
								<a href="{{path('archive')}}">
									<h4>Archive</h4>
								</a>
							</li>
							<li class="my-4 active">
								<a href="{{path('mappy')}}">
									<h4>Mappy</h4>
								</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
		<footer class="fixed-bottom">
			<div class="footer container-fluid ">
				<div class="col-md-3 d-flex justify-content-center">
					<h5 class="textfooter">&copy;.Copyright by Erwan</h5>
				</div>
			</div>
		</footer>
	</div>
	<script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js" integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ==" crossorigin=""></script>
	<script>
		// les 5 point de ville

var villes = {
{% for contenu in contenu %}
"{{ contenu.nom }}" : {
"lat": {{ contenu.lat }},
"lon": {{ contenu.lon }}
},{% endfor %}
};
// map
var carte = L.map('map').setView([
49.75164975184001, 4.72026049261773
], 13);
L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {
attribution: 'donn√©es @ <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',
minZoom: 1,
maxZoom: 20
}).addTo(carte);
// marker
for (ville in villes) {
var marker = L.marker([
villes[ville].lat,
villes[ville].lon
]).addTo(carte);
marker.bindPopup("<p>" + ville + "</p>");
}

	</script>
{% endblock %}
